# payment-feature

``` import Head from 'next/head'
import styles from '../styles/Home.module.css'

function Home() {
  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <div className={styles.containerChild}>
        <section className={styles.section}>
          <form action="/api/checkout-session" method="POST">
          <img className={styles.image} src ="https://i.pinimg.com/564x/c5/e5/96/c5e5965d040214c91ad429494ac83b14.jpg"
              alt="meme-nude-tiger"
              width="210px"
              height="210px"
              style={{borderRadius: "50%"}} />
            <div className={styles.name}>IMG Chill</div>
            <div className={styles.price}>Price: $81</div>
            <div className={styles.count}>Quantity: 1</div>
            <button id={styles.btn}>Buy</button>
          </form>
        </section>
      </div>
    </div>
  )
}

export default Home
```
```
.container{
  font-size: 20px;
}

.containerChild{
  display: flex;
  justify-content: center;
  margin-top: 10%;
  
}

.image{
  margin-top: 20px;
}

.section{
  text-align: center;
  height: 400px;
  width: 300px;
  background-color: aqua;
  border-radius: 10px;
}

.name{
  margin-top: 20px;
  margin-bottom: 5px;
}

.price{
  margin-bottom: 5px;
} 

.count{
  margin-bottom: 5px;
}

#btn{
  width: 150px;
  height: 50px;
  border-radius: 10px;
  border: 1px solid #333;
  font-size: 20px;
  position: relative;
  cursor: pointer;
  color: rgb(250, 248, 245);
  background-color: black;
}

```
```

const stripe = require('stripe')('sk_test_51Ks4z8IartVhFSxqcREd5AsoHfXU3FNyYw6GKM93twFl1mZ5xKRMrQTBEbfiKIMEa8GkEFXLIVXSuZYqJjfKAaxf00puRx7LyT');

export default async function handler(req: any, res: any) {
  if(req.method === 'POST') {
    try {
      const session = await stripe.checkout.sessions.create({
        mode: 'payment',
        line_items: [
          {
            price: 'price_1Ks56gIartVhFSxqPaXrQrsh',
            quantity: 1,
          },
        ],
        
        success_url: `${req.headers.origin}/?success=true`,
        cancel_url: `${req.headers.origin}/?canceled=true`,
      });
      res.redirect(303, session.url)
    } catch (error: any) {
      res.status(error.statusCode || 500).json(error.message);
    }
  } else {

  }
  res.setHeader('Allow', 'POST');
    res.status(405).end('Method Not Allowed');
}

```
